DROP TABLE IF EXISTS skater_data;
DROP TABLE IF EXISTS skaters;

CREATE TABLE skaters (
    nhl_num INTEGER PRIMARY KEY,
    full_name VARCHAR(100),
    last_name VARCHAR(50),
    birth_date DATE,
    height INTEGER,
    weight INTEGER,
    position VARCHAR(1),
    shoots_catches VARCHAR(1),
    draft_year INTEGER,
    draft_round INTEGER,
    draft_pos INTEGER,
    first_season INTEGER
);

CREATE TABLE skater_data (
    nhl_num INTEGER,
    season INTEGER,
    team VARCHAR(3),
    team2 VARCHAR(3),
    team3 VARCHAR(3),
    games_played INTEGER,
    goals INTEGER,
    ev_goals INTEGER,
    pp_goals INTEGER,
    sh_goals INTEGER,
    en_goals INTEGER,
    gw_goals INTEGER,
    ot_goals INTEGER,
    goals_back INTEGER,
    goals_defl INTEGER,
    goals_slap INTEGER,
    goals_snap INTEGER,
    goals_tip INTEGER,
    goals_wrap INTEGER,
    goals_wrist INTEGER,
    assists INTEGER,
    ev_assists INTEGER,
    pp_assists INTEGER,
    sh_assists INTEGER,
    en_assists INTEGER,
    points INTEGER,
    ev_points INTEGER,
    pp_points INTEGER,
    sh_points INTEGER,
    en_points INTEGER,
    plus_minus INTEGER,
    ev_goals_for INTEGER,
    ev_goals_against INTEGER,
    pp_goals_for INTEGER,
    pp_goals_against INTEGER,
    sh_goals_for INTEGER,
    sh_goals_against INTEGER,
    shots INTEGER,
    shots_back INTEGER,
    shots_defl INTEGER,
    shots_slap INTEGER,
    shots_snap INTEGER,
    shots_tip INTEGER,
    shots_wrap INTEGER,
    shots_wrist INTEGER,
    misses INTEGER,
    misses_cross INTEGER,
    misses_high INTEGER,
    missed_post INTEGER,
    missed_wide INTEGER,
    blocks INTEGER,
    giveaways INTEGER,
    hits INTEGER,
    takeaways INTEGER,
    faceoffs INTEGER,
    fo_wins INTEGER,
    fo_losses INTEGER,
    dz_fo INTEGER,
    dz_fo_wins INTEGER,
    dz_fo_losses INTEGER,
    nz_fo INTEGER,
    nz_fo_wins INTEGER,
    nz_fo_losses INTEGER,
    oz_fo INTEGER,
    oz_fo_wins INTEGER,
    oz_fo_losses INTEGER,
    ev_fo INTEGER,
    ev_fo_wins INTEGER,
    ev_fo_losses INTEGER,
    pp_fo INTEGER,
    pp_fo_wins INTEGER,
    pp_fo_losses INTEGER,
    sh_fo INTEGER,
    sh_fo_wins INTEGER,
    sh_fo_losses INTEGER,
    penalty_minutes INTEGER,
    minors INTEGER,
    majors INTEGER,
    match_penalties INTEGER,
    misconducts INTEGER,
    game_misconducts INTEGER,
    penalties_drawn INTEGER,
    shifts INTEGER,
    toi INTEGER,
    ev_toi INTEGER,
    ot_toi INTEGER,
    pp_toi INTEGER,
    sh_toi INTEGER,
    PRIMARY KEY(nhl_num, season),
    CONSTRAINT fk_skater
        FOREIGN KEY(nhl_num)
            REFERENCES skaters(nhl_num)
);